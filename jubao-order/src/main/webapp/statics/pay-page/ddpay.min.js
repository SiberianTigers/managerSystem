!function e(t, n, r) {
	function s(o, u) {
		if (!n[o]) {
			if (!t[o]) {
				var a = "function" == typeof require && require;
				if (!u && a) return a(o, !0);
				if (i) return i(o, !0);
				throw new Error("Cannot find module '" + o + "'")
			}
			var f = n[o] = {
				exports : {}
			};
			t[o][0].call(f.exports, function(e) {
				var n = t[o][1][e];
				return s(n || e)
			}, f, f.exports, e, t, n, r)
		}
		return n[o].exports
	}
	for (var i = "function" == typeof require && require, o = 0; o < r.length; o++) s(r[o]);
	return s
}({
	1 : [ function(require, module, exports) {
		require("./main.js"), require("./util.js"), require("./http.js"), require("./view.js")
	}, {
		"./http.js" : 2,
		"./main.js" : 3,
		"./util.js" : 4,
		"./view.js" : 5
	} ],
	2 : [ function(require, module, exports) {
		var DDPayHttp = DDPayHttp || {};
		window.DDPayHttp = DDPayHttp, DDPayHttp.post = function(url, args, cb) {
			var xhr = new XMLHttpRequest;
			xhr.open("POST", url), xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded"), xhr.onreadystatechange = function() {
				if (4 == xhr.readyState && xhr.status >= 200 && xhr.status <= 207) {
					var response = (xhr.statusText, xhr.responseText);
					cb && cb(response)
				}
			}, xhr.onerror = function() {}, xhr.ontimeout = function() {}, xhr.send(args)
		}, DDPayHttp.createOrder = function(params) {
			var playerId = params.playerId || "",
				appId = params.appId || "",
				goodsId = params.goodsId || "",
				goodsPrice = (params.goodsName, params.goodsPrice || "0"),
				payTo = (params.wx, params.alipay, params.qq, params.ysf, DDPayView.getPayTo());
			if (!playerId) return void alert("支付用户信息有误！");
			if (!appId) return void alert("商户appId有误！");
			if (!goodsId) return void alert("商品ID有误！");
			if (!payTo) return void alert("选择支付方式有误！");
			var sendData = "payTo=" + payTo + "&playerId=" + playerId + "&goodsId=" + goodsId + "&appId=" + appId;
			console.log("sendData = " + sendData), DDPayHttp.post(DDPay.postURL + "/myPay/appid_create_order", sendData, function(response) {
				if (response) {
					var info = JSON.parse(response);
					console.log("appid_create_order:" + response);switch (info.code) {
					case 200:
						var orderInfo = info.orderInfo;
						orderInfo.qrcodeURL, orderInfo.payPrice, orderInfo.payTo;DDPayHttp.setCurOrderInfo(orderInfo);DDPayView.openQrcodePay(orderInfo, goodsPrice);
						break;default:
						!1, alert("创建订单失败，请重试！")
					}
				}
			})
		}, DDPayHttp.setCurOrderInfo = function(orderInfo) {
			this.curOrderInfo = orderInfo
		}, DDPayHttp.getCurOrderInfo = function() {
			return this.curOrderInfo
		}, DDPayHttp.checkPaySucc = function(params, cb) {
			var appId = (params.playerId, params.appId || ""),
				sysTag = params.sysTag || "0";
			if (!appId) return void console.log("商户appId有误！appId = " + appId);
			var curOrderInfo = DDPayHttp.getCurOrderInfo();
			if (!curOrderInfo) return void console.log("订单信息有误！");
			var orderId = curOrderInfo.orderId;
			if (!orderId) return void console.log("订单ID有误！orderId = " + orderId);
			var sendData = "orderId=" + orderId + "&appId=" + appId + "&sysTag=" + sysTag;
			DDPayHttp.post(DDPay.postURL + "/myPay/is_pay_succ", sendData, function(response) {
				if (response) {
					var info = JSON.parse(response);
					console.log("is_pay_succ:" + response);switch (info.code) {
					case 200:
						cb && cb(curOrderInfo);
						break;default:
						!1, console.log("订单未成功！")
					}
				}
			})
		}, console.log("------require httpRequest.js")
	}, {} ],
	3 : [ function(require, module, exports) {
		var DDPay = DDPay || {};
		window.DDPay = DDPay, DDPay.postURL = "http://120.78.142.80", -1 != window.location.hostname.indexOf("/mypaytest/") && (DDPay.postURL = "http://17337389lh.imwork.net:38220"), DDPay._debug_tag_ = !0, console.log("------require main.js")
	}, {} ],
	4 : [ function(require, module, exports) {
		var DDPayUtil = DDPayUtil || {};
		window.DDPayUtil = DDPayUtil, DDPayUtil.getUrlParams = function() {
			for (var args = {}, query = window.location.search.substring(1), pairs = query.split("&"), i = 0; i < pairs.length; i++) {
				var pos = pairs[i].indexOf("=");
				if (-1 != pos) {
					var key = pairs[i].substring(0, pos),
						value = pairs[i].substring(pos + 1);
					args[key] = decodeURIComponent(value)
				}
			}
			return args
		}, DDPayUtil.randomString = function(len) {
			len = len || 32;
			var strChars = "ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678",
				maxPos = strChars.length,
				pwd = "";
			for (i = 0; i < len; i++) pwd += strChars.charAt(Math.floor(Math.random() * maxPos));
			return pwd
		}, DDPayUtil.isMobileBrowser = function() {
			var sUserAgent = navigator.userAgent.toLowerCase(),
				bIsIpad = "ipad" == sUserAgent.match(/ipad/i),
				bIsIphoneOs = "iphone os" == sUserAgent.match(/iphone os/i),
				bIsMidp = "midp" == sUserAgent.match(/midp/i),
				bIsUc7 = "rv:1.2.3.4" == sUserAgent.match(/rv:1.2.3.4/i),
				bIsUc = "ucweb" == sUserAgent.match(/ucweb/i),
				bIsAndroid = "android" == sUserAgent.match(/android/i),
				bIsCE = "windows ce" == sUserAgent.match(/windows ce/i),
				bIsWM = "windows mobile" == sUserAgent.match(/windows mobile/i);
			return !!(bIsIpad || bIsIphoneOs || bIsMidp || bIsUc7 || bIsUc || bIsAndroid || bIsCE || bIsWM)
		}, DDPayUtil.isWxBrowser = function() {
			return "micromessenger" == window.navigator.userAgent.toLowerCase().match(/MicroMessenger/i)
		}, DDPayUtil.isQqBrowser = function() {
			return !!navigator.userAgent.toLowerCase().match(/mqqbrowser|qzone|qqbrowser/i)
		}, DDPayUtil.isAndroid = function() {
			var u = navigator.userAgent;
			return u.indexOf("Android") > -1 || u.indexOf("Adr") > -1
		}, DDPayUtil.isiOS = function() {
			return !!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)
		}, DDPayUtil.fty = function(f) {
			f < 0 && (f = 0);
			var str = "" + f;
			return f < 10 ? str = "00" + f : f < 100 && (str = "0" + f), str = str.slice(0, -2) + "." + str.slice(-2)
		}, DDPayUtil.strf_to_stry = function(f) {
			return f ? (f += "", 1 == f.length && (f = "00" + f), 2 == f.length && (f = "0" + f), f.slice(0, -2) + "." + f.slice(-2)) : "0"
		}, DDPayUtil.dateFormat = function(date, fmt) {
			var o = {
				"M+" : date.getMonth() + 1,
				"d+" : date.getDate(),
				"h+" : date.getHours(),
				"m+" : date.getMinutes(),
				"s+" : date.getSeconds(),
				"q+" : Math.floor((date.getMonth() + 3) / 3),
				S : date.getMilliseconds()
			};
			/(y+)/.test(fmt) && (fmt = fmt.replace(RegExp.$1, (date.getFullYear() + "").substr(4 - RegExp.$1.length)));
			for (var k in o) new RegExp("(" + k + ")").test(fmt) && (fmt = fmt.replace(RegExp.$1, 1 == RegExp.$1.length ? o[k] : ("00" + o[k]).substr(("" + o[k]).length)));
			return fmt
		}, console.log("------require util.js")
	}, {} ],
	5 : [ function(require, module, exports) {
		var DDPayView = DDPayView || {};
		window.DDPayView = DDPayView, DDPayView._initDocument = function() {
			$("#contentPay").empty();
			var strHtml = "";
			strHtml += '<div id="IDdivT" class="divT">', strHtml += '  <P class="title_payPrice">商品价格</P>', strHtml += '  <P id="IDgoodsPrice1" class="payPrice">¥??.??</P>', strHtml += '      <P class="payTip">支付随机立减0~0.99元</P>', strHtml += "</div>", strHtml += '<div id="IDdivInfo" class="divInfo">', strHtml += '    <P class="infoL">商品名称:</P>', strHtml += '    <P id="IDgoodsName" class="infoR_PayTo">????????</P>', strHtml += '    <P class="infoL">商品价格:</P>', strHtml += '    <P id="IDgoodsPrice2" class="infoR">??.??元</P>', strHtml += "</div>", strHtml += '<div id="IDdivPayTypes" class="divPayTypes">', strHtml += '    <div id="IDdivPayType" class="divPayType">', strHtml += '        <input id="IDpayWX" type="checkbox" class="checkbox"/>', strHtml += '        <div id="IDdivPayType" class="divPayType">', strHtml += '            <label for="IDpayWX" class="labelPay">', strHtml += '                <Img class="imgPay" src="/statics/pay-page/ddpay/Img/wx.png"></Img>', strHtml += '                <P id="IDpPayWX" class="textPayType">微信支付</P>', strHtml += '                <P class="textPayTypeTip">单笔最高500元</P>', strHtml += "            </label>", strHtml += "        </div>", strHtml += "    </div> ", strHtml += "    <hr />", strHtml += '    <div id="IDdivPayType" class="divPayType">', strHtml += '        <input id="IDpayAlipay" type="checkbox" class="checkbox"/>', strHtml += '        <div id="IDdivPayType" class="divPayType">', strHtml += '            <label for="IDpayAlipay" class="labelPay">', strHtml += '                <Img class="imgPay" src="/statics/pay-page/ddpay/Img/alipay.png"></Img>', strHtml += '                <P id="IDpPayAlipay" class="textPayType">支付宝支付</P>', strHtml += '                <P class="textPayTypeTip">单笔最高500元</P>', strHtml += "            </label>", strHtml += "        </div>", strHtml += "    </div> ", strHtml += "    <hr />", strHtml += '    <div id="IDdivPayType" class="divPayType">', strHtml += '        <input id="IDpayQQ" type="checkbox" class="checkbox" disabled="disabled"/>', strHtml += '        <div id="IDdivPayType" class="divPayType">', strHtml += '            <label for="IDpayQQ" class="labelPay">', strHtml += '                <Img class="imgPay" src="/statics/pay-page/ddpay/Img/qq.png"></Img>', strHtml += '                <P id="IDpPayQQ" class="textPayType">QQ支付</P>', strHtml += '                <P class="textPayTypeTip">单笔最高500元</P>', strHtml += "            </label>", strHtml += "        </div>", strHtml += "    </div> ", strHtml += "    <hr />", strHtml += '    <div id="IDdivPayType" class="divPayType">', strHtml += '        <input id="IDpayYSF" type="checkbox" class="checkbox" disabled="disabled"/>', strHtml += '        <div id="IDdivPayType" class="divPayType">', strHtml += '            <label for="IDpayYSF" class="labelPay">', strHtml += '                <Img class="imgPay" src="/statics/pay-page/ddpay/Img/ysf.png"></Img>', strHtml += '                <P id="IDpPayYSF" class="textPayType">云闪付支付</P>', strHtml += '                <P class="textPayTypeTip">单笔最高500元</P>', strHtml += "            </label>", strHtml += "        </div>", strHtml += "    </div> ", strHtml += "    <hr />", strHtml += '    <input id="IDbtnPay" type="button" name="" value="立即付款" onclick="DDPayView.onClickPay()" class="btn"/> ', strHtml += '    <input id="IDbtnBack" type="button" name="" value="返回" onclick="DDPayView.onClickBack()" class="btn"/> ', strHtml += "</div>", strHtml += '<div id="IDdivPay" class="divPay">', strHtml += '    <div id="qrcodeCanvas"></div>', strHtml += '    <img id="ImgPayQrcode" class="ImgPayQrcode"></img>  ', strHtml += '    <P id="IDtextPayPrice" class="textPayPrice">支付00.00元</P>', strHtml += '    <P id="IDtextPayTip" class="textPayTip">(长按二维码,点击"识别图中二维码")</P>', strHtml += '    <input id="IDbtnClosePay" type="button" name="" value="返回（60秒）" onclick="DDPayView.onClickClosePay()" class="btn"/>', strHtml += "</div>", strHtml += '<div id="IDdivPaySucc" class="divPaySucc">', strHtml += '    <img class="ImgPaySucc" src="/statics/pay-page/ddpay/Img/paySucc.png"></img>', strHtml += '    <P id="IDtextPaySucc" class="textPaySucc">支付成功</P>', strHtml += '    <P id="IDtextPaySuccVal" class="textPaySuccVal">付款金额00.00元</P>', strHtml += "</div>", strHtml += '<div id="IDdivB" class="divB">', strHtml += '    <P class="textTipBRed">确认支付金额后支付</P>', strHtml += '    <P class="textTipB">点击[立即付款]后，请在一分钟内完成支付</P>', strHtml += '    <P class="textTipB">若一分钟内未支付，请重新点击[立即付款]按钮</P>', strHtml += "</div>", $("#contentPay").append(strHtml)
		}, DDPayView.showRootDiv = function() {
			$("#contentPay").show()
		}, DDPayView.payParams = {}, DDPayView.initView = function(params) {
			DDPayView.payParams = params || {};
			var goodsName = (params.playerId, params.appId, params.goodsId, params.goodsName || "未命名"),
				goodsPrice = params.goodsPrice || "0",
				wx = params.wx || "0",
				alipay = params.alipay || "0",
				qq = params.qq || "0",
				ysf = params.ysf || "0";
			$("#IDdivPay").hide(), $("#IDdivPaySucc").hide(), $("#IDdivPayTypes").show();
			var yuan = DDPayUtil.strf_to_stry(goodsPrice);
			$("#IDgoodsPrice1").text("¥" + yuan), $("#IDgoodsPrice2").text(yuan + "元"), $("#IDgoodsName").text(goodsName);
			var bDefault = !1;
			wx && "0" != wx ? (bDefault || ($("#IDpayWX").prop("checked", !0), bDefault = !0), $("#IDpayWX").prop("disabled", !1)) : ($("#IDpayWX").prop("disabled", !0), $("#IDpPayWX").text("微信支付（未开通）")), alipay && "0" != alipay ? (bDefault || ($("#IDpayAlipay").prop("checked", !0), bDefault = !0), $("#IDpayAlipay").prop("disabled", !1)) : ($("#IDpayAlipay").prop("disabled", !0), $("#IDpPayAlipay").text("支付宝支付（未开通）")), qq && "0" != qq ? (bDefault || ($("#IDpayQQ").prop("checked", !0), bDefault = !0), $("#IDpayQQ").prop("disabled", !1)) : ($("#IDpayQQ").prop("disabled", !0), $("#IDpPayQQ").text("QQ支付（未开通）")), ysf && "0" != ysf ? (bDefault || ($("#IDpayYSF").prop("checked", !0), bDefault = !0), $("#IDpayYSF").prop("disabled", !1)) : ($("#IDpayYSF").prop("disabled", !0), $("#IDpPayYSF").text("云闪付支付（未开通）")), $("#IDpayWX").click(function() {
				DDPayView.onClickCheck("IDpayWX")
			}), $("#IDpayAlipay").click(function() {
				DDPayView.onClickCheck("IDpayAlipay")
			}), $("#IDpayQQ").click(function() {
				DDPayView.onClickCheck("IDpayQQ")
			}), $("#IDpayYSF").click(function() {
				DDPayView.onClickCheck("IDpayYSF")
			})
		}, DDPayView.init = function() {
			DDPayView._initDocument();
			var params = DDPayUtil.getUrlParams();
			DDPayView.initView(params)
		}, DDPayView.onClickCheck = function(id) {
			$("#" + id).prop("checked") ? ("IDpayWX" != id && $("#IDpayWX").prop("checked", !1), "IDpayAlipay" != id && $("#IDpayAlipay").prop("checked", !1), "IDpayQQ" != id && $("#IDpayQQ").prop("checked", !1), "IDpayYSF" != id && $("#IDpayYSF").prop("checked", !1)) : $("#" + id).prop("checked", !0)
		}, DDPayView.onClickPay = function() {
			DDPayHttp.createOrder(DDPayView.payParams)
		}, DDPayView.onClickBack = function(bPaySucc) {
			var succOpenUrl = DDPayView.payParams.succOpenUrl || "",
				succHide = DDPayView.payParams.succHide || "";
			"function" == typeof DDPayView.payParams.cb && DDPayView.payParams.cb(bPaySucc), succHide && $("#contentPay").hide(), succOpenUrl && (window.location.href = succOpenUrl)
		}, DDPayView.onClickClosePay = function(payTo) {
			DDPayView.payTimeOutTimerId && (clearInterval(DDPayView.payTimeOutTimerId), DDPayView.payTimeOutTimerId = null), $("#IDdivPay").hide(), $("#IDdivPayTypes").show()
		}, DDPayView.getPayTo = function() {
			var payTo = "";
			return $("#IDpayWX").prop("checked") && (payTo = "default"), $("#IDpayAlipay").prop("checked") && (payTo = "AliPay"), $("#IDpayQQ").prop("checked") && (payTo = "QQ"), $("#IDpayYSF").prop("checked") && (payTo = "YSF"), payTo
		}, DDPayView.openQrcodePay = function(orderInfo, goodsPrice) {
			var qrcodeURL = orderInfo.qrcodeURL,
				payPrice = orderInfo.payPrice,
				payTo = orderInfo.payTo;
			$("#IDdivPay").show(), $("#IDdivPayTypes").hide();
			var strY = DDPayUtil.strf_to_stry(payPrice);
			strY = "支付" + strY + "元", $("#IDtextPayPrice").html(strY);
			var imgLogo = "";
			"default" == payTo ? (imgLogo = "/statics/pay-page/ddpay/Img/wx.png", DDPayUtil.isWxBrowser() ? $("#IDtextPayTip").html('长按二维码,点击"识别图中二维码"') : DDPayUtil.isMobileBrowser() ? $("#IDtextPayTip").html("保存图片 - 微信扫一扫 - 从相册选取二维码") : $("#IDtextPayTip").html("打开微信,扫码支付")) : "AliPay" == payTo ? (imgLogo = "/statics/pay-page/ddpay/Img/alipay.png", $("#IDtextPayTip").html("打开支付宝,扫码支付")) : "QQ" == payTo ? (imgLogo = "/statics/pay-page/ddpay/Img/qq.png", $("#IDtextPayTip").html("打开手机QQ,扫码支付")) : "YSF" == payTo && (imgLogo = "/statics/pay-page/ddpay/Img/ysf.png", $("#IDtextPayTip").html("打开云闪付APP,扫码支付")), $("#qrcodeCanvas").empty(), $("#qrcodeCanvas").qrcode({
				render : "canvas",
				text : qrcodeURL,
				width : "200",
				height : "200",
				background : "#ffffff",
				foreground : "#000000",
				src : imgLogo,
				cb : function() {
					$("#qrcodeCanvas").hide();
					var canvas = $("#qrcodeCanvas").find("canvas").get(0);
					$("#ImgPayQrcode").attr("src", canvas.toDataURL("image/png"))
				}
			}), DDPayView.setPayTimeOut(), DDPayView.setTimerCheckPaySucc(), "AliPay" == payTo && (!DDPayUtil.isMobileBrowser() || DDPayUtil.isWxBrowser() || DDPayUtil.isQqBrowser() || (window.location.href = qrcodeURL))
		}, DDPayView.setPayTimeOut = function() {
			var startTime = (new Date).getTime(),
				endTime = startTime + 6e4;
			DDPayView.payTimeOutTimerId = setInterval(function() {
				var time = (new Date).getTime();
				if (time > endTime) return void DDPayView.onClickClosePay();
				var leaveTime = 60 - Math.floor((time - startTime) / 1e3);
				leaveTime = Math.max(0, leaveTime);
				var str = "返回（" + leaveTime + "秒）";
				$("#IDbtnClosePay").val(str)
			}, 200)
		}, DDPayView.setTimerCheckPaySucc = function() {
			var curTime = (new Date).getTime(),
				startTime = curTime + 2500,
				endTime = curTime + 6e4;
			DDPayView.payCheckPayTimerId = setInterval(function() {
				var time = (new Date).getTime();
				if (!(time < startTime)) return time > endTime ? void clearInterval(DDPayView.payCheckPayTimerId) : void DDPayHttp.checkPaySucc(DDPayView.payParams, function(orderInfo) {
						DDPayView.onPaySucc(orderInfo)
					})
			}, 1e3)
		}, DDPayView.onPaySucc = function(orderInfo) {
			DDPayView.payCheckPayTimerId && (clearInterval(DDPayView.payCheckPayTimerId), DDPayView.payCheckPayTimerId = null), $("#IDdivPay").hide(), $("#IDdivPayTypes").hide(), $("#IDdivPaySucc").show();
			var payPrice = orderInfo.payPrice,
				strY = DDPayUtil.strf_to_stry(payPrice);
			strY = "付款金额" + strY + "元", $("#IDtextPaySuccVal").html(strY), setTimeout(function() {
				    DDPayView.onClickBack(!0)
				   $.ajax({
					url:"/EasyBuyx/Cart",
					data:{
						"action":"deleteCar"
					},
					type:"POST",
					dataType:"JSON",
					success: function(result){
						   window.location.href="http://tiger10010.vicp.io:18962/EasyBuyx/Home?action=index";
					}  
				   }); 
				    
			}, 4100)
			
		}, DDPayView.init(), console.log("------require view.js")
	}, {} ]
}, {}, [ 1 ]);